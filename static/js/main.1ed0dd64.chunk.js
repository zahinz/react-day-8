(this.webpackJsonpday8=this.webpackJsonpday8||[]).push([[0],{46:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var s=a(1),i=a.n(s),r=a(22),n=a.n(r),c=(a(46),a(15)),o=a(4),l=a(13),d=a(14),u=a(18),h=a(17),j=a(2),m=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(j.jsxs)("div",{className:"flex rounded overflow-hidden mb-4 md:w-5/12 w-11/12 mr-4",children:[Object(j.jsx)("div",{className:"h-48 w-52 bg-gray-400 overflow-hidden",children:Object(j.jsx)("img",{src:this.props.poster,alt:"",className:"w-full"})}),Object(j.jsx)("div",{className:"bg-white w-5/6 flex p-5 items-end",children:Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{className:"text-gray-600 font-bold mb-1",children:this.props.title}),Object(j.jsxs)("div",{className:"text-gray-600 text-xs flex ",children:[Object(j.jsxs)("p",{className:"mr-3",children:[Object(j.jsx)("span",{className:"font-bold",children:"Year:"})," ",this.props.year]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{className:"font-bold",children:"Type:"})," ",this.props.type]})]}),Object(j.jsx)(c.b,{to:{pathname:"details/".concat(this.props.id)},children:Object(j.jsx)("button",{className:"bg-blue-500 text-white text-xs p-2 font-bold rounded mt-5",children:"View details"})})]})})]})}}]),a}(i.a.Component),b=m,p=a(16),f=a(26),x=a.n(f),v="SEARCH_MOVIE",O="SEARCH_MOVIE_SUCCESS",y="SEARCH_MOVIE_FAILED",g="SEARCH_MOVIE_DETAILS",w="SEARCH_MOVIE_DETAILS_SUCCESS",D="SEARCH_MOVIE_DETAILS_FAILED",N=a(38),S=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state={movieList:[]},s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.movieData;this.setState({movieList:e.data}),console.log({movieData:e})}},{key:"componentDidUpdate",value:function(e){var t=this.props.movieData;e.movieData.isLoading&&!t.isLoading&&this.setState({movieList:t.data})}},{key:"submitSearch",value:function(e){e.preventDefault(),this._searchInput.value?(console.log(this._searchInput.value),console.log(this.state.movieList),console.log("movie data",this.props.movieData.data),this.props.submitSearch(this._searchInput.value),this._searchInput.value=""):alert("search field is empty")}},{key:"render",value:function(){var e=this;return Object(j.jsxs)("div",{className:"bg-gray-200 w-screen min-h-screen",children:[Object(j.jsx)("header",{className:"fixed top-0 left-0 w-full h-16 bg-blue-600 flex justify-center items-center",children:Object(j.jsxs)("div",{className:"lg:w-3/5 md:w-4/5 sm:w-5/6 w-11/12 flex justify-between",children:[Object(j.jsx)("p",{className:"text-white font-bold text-xl",children:"Movie Magic"}),Object(j.jsxs)("form",{onSubmit:function(t){return e.submitSearch(t)},className:"flex justify-between items-center",children:[Object(j.jsx)("input",{className:"text-gray-800 p-1 rounded",type:"text",ref:function(t){return e._searchInput=t}}),Object(j.jsx)("button",{className:"text-white ml-4 text-lg",children:Object(j.jsx)(N.a,{})})]})]})}),Object(j.jsx)("div",{className:"flex justify-center mt-12",children:Object(j.jsx)("div",{className:"lg:w-3/5 md:w-4/5 sm:w-5/6 11/12 mt-10 flex flex-wrap justify-center",children:this.state.movieList.map((function(e){return Object(j.jsx)(b,{id:e.imdbID,poster:e.Poster,title:e.Title,year:e.Year,type:e.Type})}))})})]})}}]),a}(i.a.Component),L={submitSearch:function(e){return function(t){t({type:v,payload:e});try{x.a.get("https://www.omdbapi.com/?apikey=8aea6d6b&s=".concat(e,"&page=2")).then((function(e){200===e.status&&"True"===e.data.Response?t({type:O,payload:e.data.Search}):alert(e.data.Error)})).catch((function(e){console.log("error...",e),alert(e),t({type:y,error:e})}))}catch(a){console.log("error...",a),t({type:y,error:a})}}}},E=Object(p.b)((function(e){return{movieData:e.movie}}),L)(S),I=a(39),_=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var s;Object(l.a)(this,a),s=t.call(this,e);var i=window.location.href.split("/"),r=i[i.length-1];return console.log(r),s.state={movieID:r,data:{}},s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.onSearchMovieDetails(this.state.movieID)}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.props.movieDetailsData;e.movieDetailsData.isLoading&&!a.isLoading&&(console.log(this.state.data),this.setState({data:a.data},(function(){return console.log("data",t.state)})))}},{key:"render",value:function(){return Object(j.jsx)("div",{className:"bg-gray-200 w-screen min-h-screen flex items-center justify-center",children:Object(j.jsxs)("div",{className:"lg:w-8/12 md:w-10/12 sm:w-4/5 w-11/12 bg-white rounded overflow-hidden flex items-center",children:[Object(j.jsx)("div",{className:"w-1/3 h-96",children:Object(j.jsx)("img",{src:this.state.data.Poster,alt:"Poster of ".concat(this.state.data.Title),className:"h-full object-cover"})}),Object(j.jsxs)("div",{className:"p-8 w-2/3",children:[Object(j.jsxs)("div",{className:"flex justify-between item-center mb-6",children:[Object(j.jsxs)("div",{className:"flex flex-col justify-center",children:[Object(j.jsx)("p",{className:"font-bold text-lg",children:this.state.data.Title}),Object(j.jsx)("p",{className:"text-sm text-gray-500",children:this.state.data.Actors})]}),Object(j.jsxs)("div",{className:"bg-blue-600 rounded-3xl max-h-full text-white font-bold flex items-center justify-center px-6 py-1",children:[Object(j.jsx)("span",{className:"mr-3",children:Object(j.jsx)(I.a,{})}),this.state.data.imdbRating]})]}),Object(j.jsx)("p",{className:"text-sm mb-4",children:this.state.data.Plot}),console.log("hello",this.props.movieDetailsData)]})]})})}}]),a}(i.a.Component),k={onSearchMovieDetails:function(e){return function(t){t({type:g});try{x.a.get("https://www.omdbapi.com/?apikey=8aea6d6b&i=".concat(e)).then((function(e){200===e.status&&t({type:w,payload:e.data})}))}catch(a){console.log("error2...",a),t({type:D,error:a.resonse.data})}}}},C=Object(p.b)((function(e){return{movieDetailsData:e.movieDetails,movieData:e.movie}}),k)(_);var A=function(){return Object(j.jsx)(c.a,{basename:"/react-day-8",children:Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{path:"/details/:id",component:C}),Object(j.jsx)(o.a,{path:"/",exact:!0,component:E})]})})},M=a(41),T=a(11),R=a(40),V=a.n(R),H=a(5),P=function(e,t){if(void 0===e)return{isLoading:!1,data:[{}],error:null};switch(t.type){case v:return{isLoading:!0,data:[{}],error:null};case O:return{isLoading:!1,data:t.payload,error:null};case y:return{isLoading:!1,data:[{}],error:t.error};default:return e}},U=function(e,t){if(void 0===e)return{isLoading:!1,data:{},error:null};switch(t.type){case g:return{isLoading:!0,data:{},error:null};case w:return{isLoading:!1,data:t.payload,error:null};case D:return{isLoading:!1,data:{},error:t.error};default:return e}},F=Object(H.b)({movie:P,movieDetails:U}),J={key:"root",storage:V.a},Y=Object(T.g)(J,F),z=Object(M.a)({reducer:Y,middleware:function(e){return e({serializableCheck:{ignoredActions:[T.a,T.f,T.b,T.c,T.d,T.e]}})}});Object(T.h)(z);n.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(p.a,{store:z,children:Object(j.jsx)(c.a,{children:Object(j.jsx)(A,{})})})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.1ed0dd64.chunk.js.map