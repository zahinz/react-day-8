(this.webpackJsonpday8=this.webpackJsonpday8||[]).push([[0],{47:function(e,t,s){},75:function(e,t,s){"use strict";s.r(t);var a=s(1),r=s.n(a),i=s(22),n=s.n(i),c=(s(47),s(11)),l=s(4),o=s(12),d=s(13),b=s(15),u=s(14),j=s(2),m=function(e){Object(b.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(d.a)(s,[{key:"render",value:function(){return Object(j.jsxs)("div",{className:"flex mb-4 md:w-6/12 w-11/12 px-2",children:[Object(j.jsx)("div",{className:"h-48 rounded-l-md w-52 bg-gray-400 overflow-hidden flex justify-center items-center",children:"N/A"!==this.props.poster?Object(j.jsx)("img",{src:this.props.poster,alt:"",className:"h-full w-full object-cover"}):Object(j.jsx)("p",{className:"text-center text-gray-500",children:"Thumbnail not available"})}),Object(j.jsx)("div",{className:"bg-white rounded-r-md w-5/6 flex p-5 items-end",children:Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{className:"text-gray-600 font-bold mb-1",children:this.props.title}),Object(j.jsxs)("div",{className:"text-gray-600 text-xs flex ",children:[Object(j.jsxs)("p",{className:"mr-3",children:[Object(j.jsx)("span",{className:"font-bold",children:"Year:"})," ",this.props.year]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{className:"font-bold",children:"Type:"})," ",this.props.type]})]}),Object(j.jsx)(c.b,{to:{pathname:"details/".concat(this.props.id)},children:Object(j.jsx)("button",{className:"bg-blue-500 text-white text-xs p-2 font-bold rounded mt-5 active:bg-blue-800",children:"View details"})})]})})]})}}]),s}(r.a.Component),h=m,x=function(e){Object(b.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(d.a)(s,[{key:"render",value:function(){return Object(j.jsxs)("div",{className:"flex mb-4 md:w-6/12 w-11/12 px-2",children:[Object(j.jsx)("div",{className:"h-48 rounded-l-md w-52 bg-gray-500 animate-pulse overflow-hidden"}),Object(j.jsx)("div",{className:"bg-white w-5/6 flex p-5 items-end",children:Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{className:"text-gray-600 font-bold mb-1",children:this.props.title}),Object(j.jsxs)("div",{className:"text-gray-600 text-xs flex ",children:[Object(j.jsxs)("p",{className:"mr-3",children:[Object(j.jsx)("span",{className:"font-bold",children:"Year:"})," ",this.props.year]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{className:"font-bold",children:"Type:"})," ",this.props.type]})]}),Object(j.jsx)("button",{className:"bg-gray-500 rounded-r-md text-white animate-pulse text-xs p-2 font-bold rounded mt-5",disabled:!0,children:"View details"})]})})]})}}]),s}(r.a.Component),p=x,f=s(17),O=s(27),v=s.n(O),g="SEARCH_MOVIE",y="SEARCH_MOVIE_SUCCESS",w="SEARCH_MOVIE_FAILED",N="SEARCH_MOVIE_DETAILS",D="SEARCH_MOVIE_DETAILS_SUCCESS",I="SEARCH_MOVIE_DETAILS_FAILED",S=function(e){return function(t){t({type:g,payload:e});try{v.a.get("https://www.omdbapi.com/?apikey=8aea6d6b&s=".concat(e,"&page=1")).then((function(e){200===e.status&&"True"===e.data.Response?t({type:y,payload:e.data.Search}):alert(e.data.Error)})).catch((function(e){console.log("error...",e),alert(e),t({type:w,error:e})}))}catch(s){console.log("error...",s),t({type:w,error:s})}}},_=s(23),E=function(e){Object(b.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(d.a)(s,[{key:"submitSearch",value:function(e){e.preventDefault(),this._searchInput.value?(console.log(this._searchInput.value),console.log("movie data",this.props.movieData.data),this.props.submitSearch(this._searchInput.value),this._searchInput.value=""):alert("search field is empty")}},{key:"render",value:function(){var e=this;return Object(j.jsxs)("div",{className:"bg-gray-200 w-screen min-h-screen",children:[Object(j.jsx)("header",{className:"fixed top-0 left-0 w-full h-16 bg-blue-600 flex justify-center items-center",children:Object(j.jsxs)("div",{className:"lg:w-3/5 md:w-4/5 sm:w-5/6 w-11/12 flex justify-between",children:[Object(j.jsx)(c.b,{to:"/",children:Object(j.jsx)("p",{className:"text-white font-bold text-xl",children:"Movie Magic"})}),Object(j.jsxs)("form",{onSubmit:function(t){return e.submitSearch(t)},className:"flex justify-between items-center",children:[Object(j.jsx)("input",{className:"text-gray-800 p-1 rounded",type:"text",ref:function(t){return e._searchInput=t}}),Object(j.jsx)("button",{className:"text-white ml-4 text-lg",children:Object(j.jsx)(_.a,{})})]})]})}),Object(j.jsx)("div",{className:"flex justify-center mt-12",children:Object(j.jsx)("div",{className:"lg:w-3/5 md:w-4/5 sm:w-5/6 11/12 mt-10 flex flex-wrap justify-start",children:this.props.movieData.isLoading?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(p,{}),Object(j.jsx)(p,{}),Object(j.jsx)(p,{}),Object(j.jsx)(p,{}),Object(j.jsx)(p,{}),Object(j.jsx)(p,{}),Object(j.jsx)(p,{}),Object(j.jsx)(p,{})]}):this.props.movieData.data.map((function(e){return Object(j.jsx)(h,{id:e.imdbID,poster:e.Poster,title:e.Title,year:e.Year,type:e.Type})}))})})]})}}]),s}(r.a.Component),L={submitSearch:S},k=Object(f.b)((function(e){return{movieData:e.movie}}),L)(E),C=s(39),M=function(e){Object(b.a)(s,e);var t=Object(u.a)(s);function s(e){var a;Object(o.a)(this,s),a=t.call(this,e);var r=window.location.href.split("/"),i=r[r.length-1];return console.log(i),a.state={movieID:i,data:{}},a}return Object(d.a)(s,[{key:"componentDidMount",value:function(){this.props.onSearchMovieDetails(this.state.movieID)}},{key:"componentDidUpdate",value:function(e){var t=this,s=this.props.movieDetailsData;e.movieDetailsData.isLoading&&!s.isLoading&&(console.log(this.state.data),this.setState({data:s.data},(function(){return console.log("data",t.state)})))}},{key:"changeMovie",value:function(e){var t=this,s=this.props.movieData.data.findIndex((function(e){return e.imdbID===t.props.movieDetailsData.data.imdbID})),a=this.props.movieData.data[s+e].imdbID;console.log(a),this.props.onSearchMovieDetails(a)}},{key:"render",value:function(){var e=this;return Object(j.jsx)("div",{className:"bg-gray-200 w-screen min-h-screen flex flex-col items-center justify-center",children:this.props.movieDetailsData.isLoading?Object(j.jsx)("div",{className:"font-bold text-lg text-gray-600",children:"Loading..."}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"lg:w-8/12 md:w-10/12 sm:w-4/5 w-11/12 bg-white rounded overflow-hidden flex items-center",children:[Object(j.jsx)("div",{className:"w-auto h-96",children:Object(j.jsx)("img",{src:this.state.data.Poster,alt:"Poster of ".concat(this.state.data.Title),className:"h-full object-cover object-center"})}),Object(j.jsxs)("div",{className:"p-8 w-2/3 mx-auto",children:[Object(j.jsxs)("div",{className:"flex flex-col-reverse lg:flex-row md:flex-row justify-between item-center mb-6",children:[Object(j.jsxs)("div",{className:"flex flex-col justify-center",children:[Object(j.jsx)("p",{className:"font-bold text-lg",children:this.state.data.Title}),Object(j.jsx)("p",{className:"text-sm text-gray-500",children:this.state.data.Actors})]}),Object(j.jsxs)("div",{className:"bg-white border-2 max-w-min border-blue-600 rounded-3xl max-h-min text-blue-600 font-bold flex items-center justify-center px-6 py-1 ml-3 my-3",children:[Object(j.jsx)("span",{className:"mr-3",children:Object(j.jsx)(C.a,{size:"1.7em"})}),this.state.data.imdbRating]})]}),Object(j.jsx)("p",{className:"text-sm mb-4",children:this.state.data.Plot})]})]}),Object(j.jsxs)("div",{className:"mt-6 flex justify-between lg:w-8/12 md:w-10/12 sm:w-4/5 w-11/12",children:[Object(j.jsx)(c.b,{to:"/results",children:Object(j.jsx)("button",{className:"bg-gray-400 py-2 px-4 rounded-full text-sm font-semibold text-white",children:"return"})}),Object(j.jsxs)("div",{children:[this.props.movieData.data.findIndex((function(t){return t.imdbID===e.props.movieDetailsData.data.imdbID}))<=0?Object(j.jsx)("button",{disabled:!0,className:"bg-gray-300 py-2 px-4 rounded-full text-sm font-semibold text-gray-800 mr-3 active:bg-blue-800",children:"Previous"}):Object(j.jsx)("button",{className:"bg-blue-600 py-2 px-4 rounded-full text-sm font-semibold text-white mr-3 active:bg-blue-800",onClick:function(){return e.changeMovie(-1)},children:"Previous"}),this.props.movieData.data.findIndex((function(t){return t.imdbID===e.props.movieDetailsData.data.imdbID}))>=9?Object(j.jsx)("button",{disabled:!0,className:"bg-gray-300 py-2 px-4 rounded-full text-sm font-semibold text-gray-800 mr-3 active:bg-blue-800",children:"Next"}):Object(j.jsx)("button",{className:"bg-blue-600 py-2 px-4 rounded-full text-sm font-semibold text-white mr-3 active:bg-blue-800",onClick:function(){return e.changeMovie(1)},children:"Next"})]})]})]})})}}]),s}(r.a.Component),A={onSearchMovieDetails:function(e){return function(t){t({type:N});try{v.a.get("https://www.omdbapi.com/?apikey=8aea6d6b&i=".concat(e)).then((function(e){200===e.status&&t({type:D,payload:e.data})}))}catch(s){console.log("error2...",s),t({type:I,error:s.resonse.data})}}}},T=Object(f.b)((function(e){return{movieDetailsData:e.movieDetails,movieData:e.movie}}),A)(M),R=s(40),V=function(e){Object(b.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).state={movieList:[]},a}return Object(d.a)(s,[{key:"submitSearch",value:function(e){if(e.preventDefault(),this._searchInput.value)return console.log(this._searchInput.value),console.log(this.state.movieList),console.log("movie data",this.props.movieData.data),this.props.submitSearch(this._searchInput.value),this.props.history.push("/results");alert("search field is empty")}},{key:"render",value:function(){var e=this;return Object(j.jsx)("div",{className:"bg-blue-600 h-screen w-full flex justify-center items-center",children:Object(j.jsxs)("div",{className:"flex flex-col justify-center items-center mb-10",children:[Object(j.jsxs)("div",{className:"font-extrabold text-white text-4xl mb-5 flex items-center",children:["Movie Magic"," ",Object(j.jsx)("span",{className:"ml-4",children:Object(j.jsx)(R.a,{size:"1.5em"})})]}),Object(j.jsxs)("form",{onSubmit:function(t){return e.submitSearch(t)},className:"flex justify-between items-center bg-white rounded",children:[Object(j.jsx)("input",{className:"text-gray-800 p-2 rounded w-96 focus:outline-none",type:"text",ref:function(t){return e._searchInput=t}}),Object(j.jsx)("button",{className:"text-blue-600 pr-4 text-lg",children:Object(j.jsx)(_.a,{size:"1em"})})]})]})})}}]),s}(r.a.Component),H={submitSearch:S},P=Object(f.b)((function(e){return{movieData:e.movie}}),H)(V);var z=function(){return Object(j.jsx)(c.a,{basename:"/react-day-8",children:Object(j.jsxs)(l.c,{children:[Object(j.jsx)(l.a,{path:"/details/:id",component:T}),Object(j.jsx)(l.a,{path:"/results",exact:!0,component:k}),Object(j.jsx)(l.a,{path:"/",exact:!0,component:P})]})})},F=s(42),U=s(16),Y=s(41),J=s.n(Y),B=s(5),q=function(e,t){if(void 0===e)return{isLoading:!1,page:0,data:[],error:null};switch(t.type){case g:return{isLoading:!0,data:t.payload,error:null};case y:return{isLoading:!1,data:t.payload,error:null};case w:return{isLoading:!1,data:[],error:t.error};default:return e}},G=function(e,t){if(void 0===e)return{isLoading:!1,data:{},error:null};switch(t.type){case N:return{isLoading:!0,data:{},error:null};case D:return{isLoading:!1,data:t.payload,error:null};case I:return{isLoading:!1,data:{},error:t.error};default:return e}},K=Object(B.b)({movie:q,movieDetails:G}),Q={key:"root",storage:J.a},W=Object(U.g)(Q,K),X=Object(F.a)({reducer:W,middleware:function(e){return e({serializableCheck:{ignoredActions:[U.a,U.f,U.b,U.c,U.d,U.e]}})}});Object(U.h)(X);n.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(f.a,{store:X,children:Object(j.jsx)(c.a,{children:Object(j.jsx)(z,{})})})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.b7080609.chunk.js.map